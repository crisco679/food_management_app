/*! foodmanagement 2016-07-19 */
var app=angular.module("foodManagementApp",["ngRoute"]);app.config(["$routeProvider","$locationProvider",function(a,b){a.when("/",{templateUrl:"views/budget.html",controller:"BudgetController",controllerAs:"budget"}).when("/about",{templateUrl:"views/about.html",controller:"AboutController",controllerAs:"about"}).when("/purchases/:id",{templateUrl:"views/subtractBudget.html",controller:"SubtractController",controllerAs:"subtract"}).otherwise({redirectTo:"/"}),b.html5Mode(!0)}]),app.controller("BudgetController",["$http","$location","$routeParams",function(a,b,c){var d=this;d.budgetInput={},d.budgets=[],d.foodInfo={},d.years=[],d.months=["January","February","March","April","May","June","July","August","September","October","November","December"];for(var e=2016;e<2020;e++)d.years.push(e);var f=function(){a.get("/budget").then(function(a){return 200===a.status?(d.budgets=a.data,a.data):void console.log("error in fetchBudget")})};d.setBudget=function(){a.post("/budget",d.budgetInput).then(function(a){f()})},d.deleteBudget=function(b){var c=b.budget_id;a["delete"]("/budget/"+c).then(function(a){f()})},d.addPurchases=function(a){b.path("/purchases/"+a.budget_id)},f()}]),app.controller("AboutController",["$http",function(a){console.log("AboutController")}]),app.controller("SubtractController",["$http","$routeParams",function(a,b){var c=this;c.info=[],c.purchases=[],c.purchase={};var d=function(){a.get("/purchases/"+b.id).then(function(a){return console.log(a.data),c.info=a.data.info[0],c.purchases=a.data.purchases,a.data})};c.purchased=function(){console.log(c.purchase),a.post("/purchases/"+b.id,c.purchase).then(function(a){console.log(a.data),d()})},d()}]),app.factory("user",function(){return{}});